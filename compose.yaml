services:
  mc:
    image: itzg/minecraft-server:latest
    pull_policy: daily
    tty: true
    stdin_open: true
    ports:
      - '25565:25565/tcp'
      - '19132:19132/udp'
    environment:
      EULA: "TRUE"
      TYPE: PAPER
      VERSION: 1.21.10
      MEMORY: "2G"
      USE_AIKAR_FLAGS: "true"
      PLUGINS: |
        https://download.geysermc.org/v2/projects/geyser/versions/latest/builds/latest/downloads/spigot
        https://download.geysermc.org/v2/projects/floodgate/versions/latest/builds/latest/downloads/spigot
        https://github.com/Swanty/papermc-proxy-protocol-test-plugin/releases/download/1.0/ProxyProtocolTester-1.0.jar
    volumes:
      - ./data:/data
    restart: always
